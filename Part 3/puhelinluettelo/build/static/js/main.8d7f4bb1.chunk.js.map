{"version":3,"sources":["services/address.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Filter.js","components/Notification.js","App.js","index.js","components/Notification.module.css"],"names":["BASEURL","service","getAll","axios","get","create","newAddressObject","post","deleteAddress","id","delete","update","addressObject","put","PersonForm","onSubmitHandler","onNameChangeHandler","newName","onNumberChangeHandler","newNumber","onSubmit","onChange","value","type","Person","name","number","setPersons","setNotification","Fragment","onClick","window","confirm","then","res","console","log","setTimeout","data","deleteHandler","Persons","content","persons","filterName","undefined","filteredPersons","filter","person","includes","length","map","Filter","filterCHangeHandler","Notification","notification","message","event","className","styles","ok","error","App","useState","setNewName","setNewNumber","setFilterName","useEffect","target","preventDefault","trim","newAddress","concat","updatedAddress","catch","err","ReactDOM","render","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.8d7f4bb1.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst BASEURL = '/api/persons';\n\nconst getAll = () => {\n\treturn axios.get(BASEURL);\n};\n\nconst create = newAddressObject => {\n\treturn axios.post(BASEURL, newAddressObject);\n};\n\nconst deleteAddress = id => {\n\treturn axios.delete(`${BASEURL}/${id}`);\n};\n\nconst update = (id, addressObject) => {\n\treturn axios.put(`${BASEURL}/${id}`, addressObject);\n};\n\nconst service = { getAll, create, deleteAddress, update };\n\nexport default service;\n","import React from 'react';\n\nconst PersonForm = ({\n\t\tonSubmitHandler,\n\t\tonNameChangeHandler,\n\t\tnewName,\n\t\tonNumberChangeHandler,\n\t\tnewNumber\n\t}) => {\n\treturn (\n\t\t<form onSubmit={onSubmitHandler}>\n\t\t\t<div>\n\t\t\t\tname: <input onChange={onNameChangeHandler} value={newName} />\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\tnumber: <input onChange={onNumberChangeHandler} value={newNumber} />\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<button type=\"submit\">Add</button>\n\t\t\t</div>\n      </form>\n\t);\n};\n\nexport default PersonForm;\n","import React from 'react';\n\nimport service from '../services/address';\n\nconst Person = ({ name, number, id, setPersons, setNotification }) => {\n\tconst deleteHandler = (id) => {\n\t\tconst confirm = window.confirm(`Delete ${name}?`);\n\t\tif (confirm) {\n\t\t\tservice\n\t\t\t.deleteAddress(id)\n\t\t\t.then(res => {\n\t\t\t\tconsole.log(res, 'delete address');\n\t\t\t})\n\t\t\tsetNotification([`Deleted ${name}`, 'deleted'])\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetNotification([null, null])\n\t\t\t  }, 5000)\n\t\t\tservice\n\t\t\t.getAll()\n\t\t\t.then(res => {\n\t\t\t\tsetPersons(res.data);\n\t\t\t});\n\t\t}\n\t};\n\treturn (\n\t  <React.Fragment>\n\t\t<tr>\n\t\t  <td>{name}</td>\n\t\t  <td>{number}</td>\n\t\t  <td><button onClick={() => deleteHandler(id)}>Delete</button></td>\n\t\t</tr>\n\t  </React.Fragment>\n\t);\n};\n\nexport default Person;\n","import React from 'react';\n\nimport Person from './Person';\n\nconst Persons = ({ persons, filterName, setPersons, setNotification  }) => {\n\tlet content;\n\tif (persons === undefined) {\n\t\treturn <p>Loading...</p>;\n\t}\n\tconst filteredPersons = persons.filter(person => person.name.includes(filterName));\n\tif (filteredPersons.length || filterName) {\n\t\tcontent = (\n\t\t\tfilteredPersons.map(person => (\n\t\t\t\t<Person\n\t\t\t\t\tsetNotification={setNotification}\n\t\t\t\t\tsetPersons={setPersons}\n\t\t\t\t\tid={person.id}\n\t\t\t\t\tkey={person.name}\n\t\t\t\t\tname={person.name}\n\t\t\t\t\tnumber={person.number}\n\t\t\t\t/>\n\t\t\t)\n\t\t));\n\t} else {\n\t\tcontent = (\n\t\t\tpersons.map(person => (\n\t\t\t\t<Person\n\t\t\t\t\tsetNotification={setNotification}\n\t\t\t\t\tsetPersons={setPersons}\n\t\t\t\t\tid={person.id}\n\t\t\t\t\tkey={person.name}\n\t\t\t\t\tname={person.name}\n\t\t\t\t\tnumber={person.number}\n\t\t\t\t/>\n\t\t\t)\n\t\t));\n\t}\n\n\treturn (\n\t\t<table>\n        \t<tbody>\n          \t\t{content}\n       \t \t</tbody>\n      </table>\n\t);\n};\n\nexport default Persons;\n","import React from 'react';\n\nconst Filter = ({ filterName, filterCHangeHandler }) => {\n\treturn (\n\t\t<div>\n      \t  filter: <input onChange={filterCHangeHandler} value={filterName} />\n      \t</div>\n\t);\n};\n\nexport default Filter;\n","import React from 'react';\n\nimport styles from './Notification.module.css';\n\nconst Notification = ({ notification }) => {\n\tconst [ message, event ] = notification;\n\tif (message === null) {\n\t\treturn null\n\t}\n\tif (event) {\n\t\treturn (\n\t\t\t<div className={`${styles.notification} ${styles.ok}`}>\n\t\t\t\t{message}\n\t\t\t</div>\n\t\t);\n\t}\n\treturn (\n\t\t<div className={`${styles.notification} ${styles.error}`}>\n\t\t\t{message}\n\t\t</div>\n\t);\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from 'react';\n\nimport service from './services/address';\nimport PersonForm from './components/PersonForm';\nimport Persons from './components/Persons';\nimport Filter from './components/Filter';\nimport Notification from './components/Notification';\nimport './App.css';\n\nconst App = () => {\n  const [ persons, setPersons ] = useState(undefined);\n  const [ newName, setNewName ] = useState('');\n  const [ newNumber, setNewNumber ] = useState('');\n  const [ filterName, setFilterName ] = useState('');\n  const [ notification, setNotification ] = useState([null, null]);\n\n  const onSubmitHandler = (event) => {\n    event.preventDefault();\n    const filteredPersons = persons.filter(person => person.name === newName.trim());\n    const { length } = filteredPersons;\n\n    if (length === 0) {\n      const newAddress = {\n        name: newName,\n        number: newNumber\n      };\n      service\n      .create(newAddress)\n      .then(res => {\n        setPersons(persons.concat(res.data));\n      })\n      setNotification([`Added ${newAddress.name}`, 'added']);\n    } else {\n      const confirm = window.confirm(`${newName.trim()} is already added to phonebook, replace the old with a new one?`);\n      const person = filteredPersons[0];\n      \n      if (confirm) {\n        const updatedAddress = {\n          name: newName.trim(),\n          number: newNumber\n        };\n        service\n        .update(person.id, updatedAddress)\n        .then(res => {\n          console.log(res.data);\n          setNotification([`Number was changed for ${updatedAddress.name}`, 'changed']);\n        })\n        .catch(err => {\n          console.log(err);\n          setNotification([`Address ${updatedAddress.name} was already deleted from server`, null]);\n        });\n      }\n    }\n    setTimeout(() => {\n      setNotification([null, null])\n      }, 5000)\n    setNewName('');\n    setNewNumber('');\n  };\n\n  const onNameChangeHandler = (event) => setNewName(event.target.value);\n  \n  const onNumberChangeHandler = (event) => setNewNumber(event.target.value);\n\n  const filterCHangeHandler = (event) => setFilterName(event.target.value);\n\n  useEffect(() => {\n    service\n    .getAll()\n    .then(res => {\n        console.log(res);\n        setPersons(res.data);\n    });\n  }, []);\n\n  return (\n   <React.Fragment>\n     <h2>Phonebook</h2>\n     <Notification notification={notification} />\n     <Filter\n        filterCHangeHandler={filterCHangeHandler}\n        filterName={filterName}\n      />\n     <h3>Add a new</h3>\n      <PersonForm\n        onSubmitHandler={onSubmitHandler}\n        onNameChangeHandler={onNameChangeHandler}\n        onNumberChangeHandler={onNumberChangeHandler}\n        newName={newName}\n        newNumber={newNumber}\n      />\n      <h2>Numbers</h2>\n      <Persons\n        setNotification={setNotification}\n        filterName={filterName}\n        persons={persons}\n        setPersons={setPersons}\n      />\n   </React.Fragment>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"notification\":\"Notification_notification__pERJa\",\"error\":\"Notification_error__3R2sS\",\"ok\":\"Notification_ok__23aTD\"};"],"sourceRoot":""}